---
title: ä¸€éµç¾åŒ– MacOS Terminal | åŠŸèƒ½é½Šå…¨è€Œä¸”å¿«é€Ÿçš„ dotfiles | macOS | Linux
description: ä¸€éµç¾åŒ– MacOS Terminal | åŠŸèƒ½é½Šå…¨è€Œä¸”å¿«é€Ÿçš„ dotfiles | macOS | Linux
sidebar_label: ä¸€éµç¾åŒ–çµ‚ç«¯æ©Ÿ
tags:
  - å¯¦ç”¨å·¥å…·
  - Performance
  - Font
keywords:
  - å¯¦ç”¨å·¥å…·
  - Performance
  - Font
  - WezTerm
  - Neovim
  - Zinit
  - PowerLevel10k
  - zsh-bench
  - speed
last_update:
  date: 2025-02-14T12:36:00+08:00
  author: zsl0621
first_publish:
  date: 2025-01-02T02:36:00+08:00
---

import ResponsivePlayer from '@site/src/components/ResponsivePlayer';

# Dotfile Built for Speed and Simplicity

ç¾ä»£ã€å¿«é€Ÿã€æ–¹ä¾¿ã€åŠŸèƒ½é½Šå…¨çš„ ZSH dotfileï¼Œ[å°ˆæ¡ˆä½å€](https://github.com/ZhenShuo2021/dotfiles)ã€‚

![demo.webp](data/dotfiles-demo.webp "demo")

<ResponsivePlayer url="https://www.youtube.com/watch?v=RVVCEYs4U7A" />

## ç‚ºä½•è¦é¸æ“‡é€™ä»½ Dotfile

1. æ˜¯çœŸçš„å¿«ï¼Œé”åˆ°ä½¿ç”¨æ’ä»¶çš„é€Ÿåº¦ä¸Šé™ï¼Œè€Œä¸”æ˜¯åš´è¬¹çš„æ¸¬è©¦ä¸åƒç¶²è·¯ä¸Šçš„æç¬‘æ¼”å“¡æ‹¿ time æŒ‡ä»¤è·‘ 10 æ¬¡å°±èªªé€™å«åšé€Ÿåº¦æ¸¬è©¦
2. æ”¯æ´ä¸€éµè‡ªå‹•å®‰è£
3. ç®¡ç†æ–¹ä¾¿ï¼Œæ¯” oh-my-zsh æ›´æ–¹ä¾¿
4. æ¥µç°¡é¢¨æ ¼ï¼Œä¸æèŠ±èŠ±ç¶ ç¶ çš„åˆ†æ•£æ³¨æ„åŠ›
5. ä½ çš„å¥—ä»¶ç®¡ç†å™¨ä¸æœƒè¦ä½ è²· hoodiesï¼Œä¸æœƒä¸€å¤©åˆ°æ™šå•ä½ è¦ä¸è¦æ›´æ–°
6. ä½ çš„çµ‚ç«¯æ©Ÿå·²ç¶“å®Œæ•´è¨­å®šï¼Œä¸€å€‹å­—éƒ½ä¸ç”¨æ‰“å°±å·²ç¶“æ˜¯äººå®¶ä¸€æ•´ç¯‡æ–‡ç« çš„è¨­å®š
7. ä½ çš„ zshrc å·²ç¶“æœ€ä½³è¨­å®šï¼Œæ˜¯æˆ‘éæ¿¾ç™¾ç¯‡æ–‡ç« çš„çµæ™¶
8. å®Œæ•´è¨»è§£ï¼Œä½ çµ•å°çœ‹å¾—æ‡‚ zshrc çš„æ¯ä»½è¨­å®š
9. è¨­å®šæ­£ç¢ºï¼ŒZinit æ­£ç¢ºä½¿ç”¨å»¶é²è¼‰å…¥ï¼Œè‡ªå‹•è£œå…¨æ­£ç¢ºå•Ÿç”¨ï¼Œé€£ zsh-z éƒ½å¯ä»¥è£œå…¨
10. åŠŸèƒ½é½Šå…¨ï¼Œå¾èªæ³•ä¸Šè‰²ã€åˆ¥åã€key-bindingã€Git æ’ä»¶ä¸€æ‡‰ä¿±å…¨
11. å¤šé …å…§å»ºæŒ‡ä»¤ï¼Œå¦‚ hnc/c/gpg_test/gpg_reload/find-ext/switch_en ...
12. ä¸ç”¨æä»€éº¼ gnu stowï¼Œç´” Git å³å¯é‹ä½œ
13. æ‰€æœ‰å¸¸è¦‹å•é¡Œéƒ½å·²è§£æ±º
14. ä¹¾æ·¨çš„å®¶ç›®éŒ„ï¼Œèƒ½æ”¹åˆ° .cache/.config çš„ç³»çµ±æª”æ¡ˆå…¨éƒ¨æ”¹ä½ç½®
15. åƒè€ƒ Github å‰ 20 å¤§ dotfiles å®Œæˆï¼Œçµåˆä»–å€‘å…¨éƒ¨å„ªé»ï¼Œä¸ç”¨å†æƒ³æ±æƒ³è¥¿ç¾åœ¨å°±æ˜¯æœ€å¥½çš„è¨­å®š

ç¶²è·¯ä¸Šçš„ç¹é«”ä¸­æ–‡æ–‡ç« ä¸€å †è¨­å®šéŒ¯èª¤ï¼Œæ²’æœ‰å•Ÿç”¨å»¶é²è¼‰å…¥ã€è£œå…¨è¨­å®šéŒ¯èª¤ï¼Œåœ¨ç¹é«”ä¸­æ–‡åœˆç”šè‡³èƒ½æŠŠæ­£ç¢ºæ‹¿ä¾†ç•¶è³£é»ï¼Œå¦‚æœä½ ç…§è‘—å…¶ä»–ç¹é«”ä¸­æ–‡æ–‡ç« ä½œé«˜æ©Ÿç‡æœ‰æŸäº›åŠŸèƒ½è¨­å®šéŒ¯èª¤ã€‚

## é€Ÿåº¦

å¿«ä¸åªæ˜¯å˜´ä¸Šèªªèªªã€‚

è¼‰å…¥é€Ÿåº¦æ¡ç”¨å…¨é¢ä¸”åš´è¬¹çš„ [zsh-bench](https://github.com/romkatv/zsh-bench/) ä½œç‚ºæ¸¬è©¦æŒ‡æ¨™ï¼ŒåŒæ™‚ä¹Ÿæä¾›ç›´è§€æ˜“æ‡‚çš„ hyperfine æ¸¬è©¦çµæœ[^test-method]ï¼Œä¸åªæ˜¯è¡¨é¢æ•¸æ“šå¥½çœ‹ï¼Œè€Œæ˜¯ä½¿ç”¨åæ‡‰ç¾å¯¦ç‹€æ…‹çš„æŒ‡æ¨™å¾—åˆ°çœŸå¯¦å¯æ„ŸçŸ¥çš„æ•ˆèƒ½æå‡ã€‚

[^test-method]: æ¸¬è©¦åŸ·è¡Œæ–¼ M1 MacBook Pro 8G RAMï¼Œzsh-bench ä½¿ç”¨é è¨­å€¼ï¼Œhyperfine ä½¿ç”¨ `hyperfine --runs 100 --warmup 3 'zsh -i -c exit 0'` æ¸¬è©¦ã€‚ç”±æ–¼ä¸ä½¿ç”¨ zsh-defer å„ªåŒ–çš„ `Manual Install` å¯¦åœ¨å¤ªæ…¢ï¼Œæ‰€ä»¥ä»–æ²’æœ‰è¼‰å…¥æœ€è€—æ™‚çš„å¹¾å€‹æ’ä»¶ï¼šoh-my-zsh æœ¬èº«ï¼ˆå€Ÿç”¨ä»–çš„æ’ä»¶åº«ï¼Œ`Manual Install Optimized` ä¹Ÿæœ‰è¼‰å…¥ oh-my-zsh ä»¥é”æˆå…¬å¹³çš„æ¸¬è©¦ç’°å¢ƒï¼‰ï¼Œä»¥åŠéœ€è¦è¼‰å…¥ oh-my-zsh çš„ docker/git æ’ä»¶ã€‚ç¸½è€Œè¨€ä¹‹æ‰€æœ‰æ¡†æ¶çš„æ’ä»¶éƒ½ç›¸åŒåªæœ‰ `Manual Install` æ²’è¼‰å…¥ oh-my-zsh å’Œ git/docker æ’ä»¶ã€‚

æ¸¬è©¦é …ç›®æ¶µè“‹äº”å€‹æ¡†æ¶ï¼š

- Oh-My-ZSH: ä½¿ç”¨ Oh-My-ZSH åŠ ä¸Š zsh-defer å„ªåŒ–
- Manual Install: æ‰‹å‹•å®‰è£ç„¡å„ªåŒ–
- Manual Install Optimized: æ‰‹å‹•å®‰è£åŠ ä¸Š zsh-defer å„ªåŒ–
- Zinit: æœ¬ä»½ dotfile
- Baseline: åŸºæº–ç·šï¼Œç§»é™¤ .zshrcï¼Œæœ¬æ©Ÿèƒ½é”åˆ°çš„æœ€å¿«é€Ÿåº¦

å¾æœ€å»£æ³›ä½¿ç”¨çš„æ¡†æ¶åˆ°å®Œå…¨ç©ºç™½çš„è¨­å®šæª”ï¼Œåˆ†åˆ¥æ¸¬è©¦äº†æœ€å¤šäººç”¨çš„æ¡†æ¶ã€ç´”æ‰‹å‹•å®‰è£ã€æ‰‹å‹•å®‰è£æ¥µé™å„ªåŒ–ã€æœ¬ä»½ dotfile ä»¥åŠä½œç‚ºåŸºæº–ç·šçš„ç©ºç™½ zshrcã€‚

![demo.webp](data/dotfiles-benchmark.webp "benchmark")

è¼‰å…¥é€Ÿåº¦å¤§å¹…é ˜å…ˆ Oh-My-ZSHï¼Œä¸¦ä¸”å¤§å¤šæ•¸æ¸¬è©¦é …ç›®éƒ½èƒ½æŒå¹³ `Manual Install Optimized` ç”šè‡³è¶…è¶Šï¼Œè«‹æ³¨æ„å°æ‰‹éƒ½å…¬å¹³çš„ä½¿ç”¨ zsh-defer åŠ é€Ÿï¼Œè¡¨ç¤ºå·²ç¶“éå¸¸æ¥è¿‘é€Ÿåº¦ä¸Šé™äº†ã€‚æ¯”ç…§åŸºæº–ç·šçœ‹ä¼¼å·®è·å¾ˆå¤šï¼Œä½†æ˜¯æ ¹æ“š zsh-bench ä½œè€…çš„[äººé¡æ„ŸçŸ¥é–¾å€¼æ¸¬è©¦](https://github.com/romkatv/zsh-bench/?tab=readme-ov-file#how-fast-is-fast)ï¼Œæœ¬ä»½ dotfile å…¨éƒ¨æ¸¬è©¦é …ç›®çš„è€—æ™‚éƒ½èƒ½é”åˆ°è·é›¢é«”æ„Ÿç„¡å»¶é² 10ms ä¹‹å…§çš„æˆç¸¾ã€‚

é™¤äº†æ•ˆèƒ½ä¹Ÿæ›´æ–¹ä¾¿ç®¡ç†ã€‚ç”±æ–¼æ¡ç”¨ Zinitï¼Œä¸éœ€è¦é¡å¤–çš„è¨­å®šæ–‡ä»¶ä¾†è¨­å®šæ’ä»¶ç®¡ç†å™¨ï¼Œä¹Ÿä¸å¿…åƒ Manual Install é‚£æ¨£æ‰‹å‹• clone æ’ä»¶ã€‚

> ç¹ªè£½è‡ªå·±çš„æ¸¬è©¦çµæœï¼šå°‡æ•¸æ“šæ›´æ–°åœ¨ .github/benchmark.py å¾Œä½¿ç”¨ `uv run .github/benchmark.py` å¯ä»¥ç›´æ¥åŸ·è¡Œä¸éœ€å»ºç«‹è™›æ“¬ç’°å¢ƒã€‚

## ç‰¹è‰²

æ‰€æœ‰ç¨‹å¼çš„è¨­å®šéƒ½åŸºæ–¼ç°¡å–®åŸå‰‡å®Œæˆï¼Œå¤–è§€è¨­å®šæ¨¡ä»¿ vscode é è¨­ä¸»é¡Œï¼Œä¸€å¾‹ä½¿ç”¨ nerd font (MesloLGS NF) å­—é«”ã€‚

- ğŸ“‚ é›†ä¸­ç®¡ç†ï¼šä¸éœ€è¦æŠŠå®‰è£è…³æœ¬å’Œè¨­å®šæª”åˆ†é–‹ç®¡ç†ï¼Œä¸€æ¬¡å®Œæˆå®‰è£å’Œè¨­å®š
- ğŸ› ï¸ æ˜“æ–¼èª¿æ•´ï¼š.zshrc ä¹¾æ·¨ç°¡æ½”ï¼Œè®“ä½ ä¸æœƒæ¯æ¬¡ä¿®æ”¹é ­éƒ½å¾ˆç—›
- ğŸš€ å¿«é€Ÿå•Ÿå‹•ï¼šå¤§é‡ä½¿ç”¨ zsh-defer å¯¦ç¾æ‡¶åŠ è¼‰
- ğŸ“š å®Œæ•´è¨»è§£ï¼šä¿è­‰ä½ çœ‹å¾—æ‡‚ zshrc åœ¨å¯«ä»€éº¼ä»¥åŠç‚ºä½•é€™æ¨£å¯«
- ğŸ”„ è¼•é¬†æ›´æ–°ï¼šåŸ·è¡Œ `dotfile-update` å°±å¯è¼•é¬†æ›´æ–°æ‰€æœ‰æ’ä»¶å’Œç³»çµ±å¥—ä»¶
- ğŸ¨ å·²é…ç½®å®Œæˆçš„ Powerlevel10k ä¸»é¡Œ
- ğŸ“¦ å¤šå€‹é å…ˆé…ç½®çš„æ’ä»¶
  - zsh-syntax-highlighting èªæ³•ä¸Šè‰²
  - zsh-autosuggestions æŒ‡ä»¤æ­·å²å»ºè­°
  - zsh-completions æŒ‡ä»¤è£œå…¨
  - colored-man-pages ä¸Šè‰²çš„ man pages
  - extract è‡ªå‹•è§£å£“ç¸®
  - z å¿«é€Ÿåˆ‡æ›ç›®éŒ„
- ğŸŒ LANGã€LC_ALL å’Œ Git éƒ½å·²ç¶“è¨­å®šå¥½ç¹é«”ä¸­æ–‡
- âœ… GPGã€homebrew å’Œ Git ç­‰å¥—ä»¶çš„å¸¸è¦‹å•é¡Œéƒ½å·²ç¶“è§£æ±º
- ğŸ¯ æ­£ç¢ºçš„è¨­å®šæŒ‡ä»¤è£œå…¨
- âš™ï¸ å®Œå–„è¨­å®šçš„ gitconfigï¼Œå¤§é‡å€Ÿé‘’ [mathiasbynens](https://github.com/mathiasbynens/dotfiles)
- ğŸ–¥ï¸ ç¾ä»£åŒ–çµ‚ç«¯æ©Ÿ
  - ä½¿ç”¨ç¾ä»£çµ‚ç«¯æ©Ÿï¼Œåˆ†å‰²è¦–çª—ä¸å†éœ€è¦ tmux ä¸¦ä¸”è¨­å®šå¥½å¤–è§€ä¸»é¡Œå’Œéµç›¤æ˜ å°„
  - wezterm: [binwenwu/wezterm-config](https://github.com/binwenwu/wezterm-config/)
  - warp: [warpdotdev/themes](https://github.com/warpdotdev/themes)
- âœï¸ æ–‡å­—ç·¨è¼¯
  - neovim: ä½¿ç”¨ Lazyvim è¨­å®šæª”ï¼Œéµç›¤æ˜ å°„ Ctrl+d ç‚ºé»‘æ´åˆªé™¤
  - helix: onedarker ä¸»é¡Œï¼Œä¸¦ä¸”æ•´åˆ ruff lsp
- ğŸ”§ å·¥å…·
  - gallery-dl: ç²¾å¿ƒè¨­è¨ˆçš„ config.jsonï¼Œåªéœ€ä¿®æ”¹è·¯å¾‘å³å¯ä½¿ç”¨
  - yt-dlp: è¨­å®šæª”ç‚ºæœ€é«˜ç•«è³ªå’ŒéŸ³è³ªï¼Œé–‹ç®±å³ç”¨

## ç›¸å®¹æ€§

ä»¥ä¸‹ç³»çµ±ç¶“éæ¸¬è©¦èƒ½æ­£å¸¸é‹ä½œï¼Œå³ä½¿åœ¨æ¬Šé™è¢«é–å®šç”šè‡³é€£ dpkg éƒ½ä¸èƒ½ç”¨çš„ TrueNAS éƒ½èƒ½æˆåŠŸå•Ÿç”¨

- [x] macOS Sonoma
- [x] Ubuntu 22.04.5 LTS
- [x] TrueNas ElectricEel-24.10.0 (6.6.44-production+truenas)

## å®‰è£

```sh
git clone --recursive --shallow-submodules https://github.com/ZhenShuo2021/dotfiles ~/.dotfiles
cd ~/.dotfiles
find . -type f -name "*.sh" -exec chmod +x {} \; 
src/bootstrap.sh
```
